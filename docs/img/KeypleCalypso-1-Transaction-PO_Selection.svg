<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1345px" preserveAspectRatio="none" style="width:1697px;height:1345px;" version="1.1" viewBox="0 0 1697 1345" width="1697px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ltvo2pggnnoy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ce7bfceea28453858a30d77f1599b96e]
cluster org.eclipse.keyple--><polygon fill="#FFFFFF" filter="url(#f1ltvo2pggnnoy)" points="22,24,173,24,180,46.2969,1675,46.2969,1675,1333,22,1333,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="180" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="26" y="38.9951">org.eclipse.keyple</text><!--MD5=[01435ace8273dc3cae88e7f376e4d373]
cluster core--><polygon fill="#FFFFFF" filter="url(#f1ltvo2pggnnoy)" points="686,223,728,223,735,245.2969,1651,245.2969,1651,1309,686,1309,686,223" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="686" x2="735" y1="245.2969" y2="245.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="690" y="237.9951">core</text><!--MD5=[50877fe469a156400d2d04beeda3ce9c]
cluster seproxy--><polygon fill="#FFFFFF" filter="url(#f1ltvo2pggnnoy)" points="717,266,787,266,794,288.2969,1307,288.2969,1307,634,717,634,717,266" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="717" x2="794" y1="288.2969" y2="288.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="721" y="280.9951">seproxy</text><!--MD5=[3400e5e1a9d8ffd8780970ed03335273]
cluster selection--><polygon fill="#FFFFFF" filter="url(#f1ltvo2pggnnoy)" points="710,678,788,678,795,700.2969,1627,700.2969,1627,1285,710,1285,710,678" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="710" x2="795" y1="700.2969" y2="700.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="714" y="692.9951">selection</text><!--MD5=[e49a056d45e206961a86949c8ace11e3]
cluster calypso.transaction--><polygon fill="#FFFFFF" filter="url(#f1ltvo2pggnnoy)" points="46,67,206,67,213,89.2969,662,89.2969,662,1272.5,46,1272.5,46,67" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="213" y1="89.2969" y2="89.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="50" y="81.9951">calypso.transaction</text><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="143.5703" id="AidSelector" style="stroke: #A80036; stroke-width: 1.5;" width="542" x="741" y="301"/><ellipse cx="966.75" cy="319.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M969.0938,315.6406 L969.2656,315.7188 C969.4844,315.4063 969.6875,315.3125 969.9844,315.3125 C970.2813,315.3125 970.5625,315.4531 970.7188,315.7188 C970.8125,315.875 970.8281,316 970.8281,316.4375 L970.8281,317.8594 C970.8281,318.2813 970.7969,318.4688 970.6875,318.625 C970.5156,318.8438 970.25,318.9844 969.9844,318.9844 C969.7656,318.9844 969.5313,318.875 969.3906,318.7344 C969.25,318.6094 969.2188,318.4844 969.1563,318.0781 C969.0625,317.6719 968.8906,317.4531 968.4063,317.1719 C967.9375,316.9219 967.3281,316.7656 966.75,316.7656 C965.0156,316.7656 963.7656,318.0781 963.7656,319.8594 L963.7656,320.9531 C963.7656,322.6563 965.0625,323.75 967.1094,323.75 C967.875,323.75 968.5625,323.625 968.9844,323.3594 C969.1719,323.2656 969.1719,323.2656 969.625,322.7813 C969.8125,322.5938 970.0156,322.5156 970.2344,322.5156 C970.7031,322.5156 971.0938,322.9063 971.0938,323.3594 C971.0938,323.75 970.7656,324.2031 970.1875,324.6094 C969.4375,325.1563 968.2813,325.4531 967.0625,325.4531 C964.1719,325.4531 962.0625,323.5625 962.0625,320.9844 L962.0625,319.8594 C962.0625,317.1406 964.0625,315.0625 966.6875,315.0625 C967.5625,315.0625 968.1563,315.2031 969.0938,315.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="1004.25" y="317.1387">«static»</text><ellipse cx="992.25" cy="326.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="998.25" y="331.1074">AidSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="742" x2="1282" y1="338.9375" y2="338.9375"/><ellipse cx="752" cy="349.9375" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="169" x="761" y="353.1479">final int AID_MIN_LENGTH = 5;</text><ellipse cx="752" cy="362.7422" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="179" x="761" y="365.9526">final int AID_MAX_LENGTH = 16;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="742" x2="1282" y1="372.5469" y2="372.5469"/><ellipse cx="752" cy="383.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="449" x="761" y="386.7573">AidSelector(byte[] aidToSelect, Set&lt;Integer&gt; successfulSelectionStatusCodes,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="516" x="761" y="399.562">FileOccurrence fileOccurrence = FIRST, FileControlInformation fileControlInformation = FCI)</text><ellipse cx="752" cy="409.1563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="761" y="412.3667">byte[] getAidToSelect()</text><ellipse cx="752" cy="421.9609" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="761" y="425.1714">boolean isSelectNext()</text><ellipse cx="752" cy="434.7656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="294" x="761" y="437.9761">Set&lt;Integer&gt; getSuccessfulSelectionStatusCodes()</text><!--MD5=[233c6f1f7c69be3daec88cbd55acc2d5]
class SeSelector--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="112.0234" id="SeSelector" style="stroke: #A80036; stroke-width: 1.5;" width="557" x="733.5" y="506"/><ellipse cx="968.25" cy="522" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M970.5938,517.6719 L970.7656,517.75 C970.9844,517.4375 971.1875,517.3438 971.4844,517.3438 C971.7813,517.3438 972.0625,517.4844 972.2188,517.75 C972.3125,517.9063 972.3281,518.0313 972.3281,518.4688 L972.3281,519.8906 C972.3281,520.3125 972.2969,520.5 972.1875,520.6563 C972.0156,520.875 971.75,521.0156 971.4844,521.0156 C971.2656,521.0156 971.0313,520.9063 970.8906,520.7656 C970.75,520.6406 970.7188,520.5156 970.6563,520.1094 C970.5625,519.7031 970.3906,519.4844 969.9063,519.2031 C969.4375,518.9531 968.8281,518.7969 968.25,518.7969 C966.5156,518.7969 965.2656,520.1094 965.2656,521.8906 L965.2656,522.9844 C965.2656,524.6875 966.5625,525.7813 968.6094,525.7813 C969.375,525.7813 970.0625,525.6563 970.4844,525.3906 C970.6719,525.2969 970.6719,525.2969 971.125,524.8125 C971.3125,524.625 971.5156,524.5469 971.7344,524.5469 C972.2031,524.5469 972.5938,524.9375 972.5938,525.3906 C972.5938,525.7813 972.2656,526.2344 971.6875,526.6406 C970.9375,527.1875 969.7813,527.4844 968.5625,527.4844 C965.6719,527.4844 963.5625,525.5938 963.5625,523.0156 L963.5625,521.8906 C963.5625,519.1719 965.5625,517.0938 968.1875,517.0938 C969.0625,517.0938 969.6563,517.2344 970.5938,517.6719 Z "/><ellipse cx="993.75" cy="521.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="999.75" y="526.1543">SeSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="734.5" x2="1289.5" y1="538" y2="538"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="734.5" x2="1289.5" y1="546" y2="546"/><ellipse cx="744.5" cy="557" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="531" x="753.5" y="560.2104">SeSelector(SeProtocol seProtocol, AtrFilter atrFilter, AidSelector aidSelector, String extraInfo)</text><ellipse cx="744.5" cy="569.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="753.5" y="573.0151">SeProtocol getSeProtocol()</text><ellipse cx="744.5" cy="582.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="753.5" y="585.8198">AtrFilter getAtrFilter()</text><ellipse cx="744.5" cy="595.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="753.5" y="598.6245">AidSelector getAidSelector()</text><ellipse cx="744.5" cy="608.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="753.5" y="611.4292">final String getExtraInfo()</text><!--MD5=[2bff4e731e7da2a8565e3debd2f462d8]
class SeSelection--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="150.4375" id="SeSelection" style="stroke: #A80036; stroke-width: 1.5;" width="425" x="1185.5" y="972"/><ellipse cx="1333.75" cy="988" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1336.0938,983.6719 L1336.2656,983.75 C1336.4844,983.4375 1336.6875,983.3438 1336.9844,983.3438 C1337.2813,983.3438 1337.5625,983.4844 1337.7188,983.75 C1337.8125,983.9063 1337.8281,984.0313 1337.8281,984.4688 L1337.8281,985.8906 C1337.8281,986.3125 1337.7969,986.5 1337.6875,986.6563 C1337.5156,986.875 1337.25,987.0156 1336.9844,987.0156 C1336.7656,987.0156 1336.5313,986.9063 1336.3906,986.7656 C1336.25,986.6406 1336.2188,986.5156 1336.1563,986.1094 C1336.0625,985.7031 1335.8906,985.4844 1335.4063,985.2031 C1334.9375,984.9531 1334.3281,984.7969 1333.75,984.7969 C1332.0156,984.7969 1330.7656,986.1094 1330.7656,987.8906 L1330.7656,988.9844 C1330.7656,990.6875 1332.0625,991.7813 1334.1094,991.7813 C1334.875,991.7813 1335.5625,991.6563 1335.9844,991.3906 C1336.1719,991.2969 1336.1719,991.2969 1336.625,990.8125 C1336.8125,990.625 1337.0156,990.5469 1337.2344,990.5469 C1337.7031,990.5469 1338.0938,990.9375 1338.0938,991.3906 C1338.0938,991.7813 1337.7656,992.2344 1337.1875,992.6406 C1336.4375,993.1875 1335.2813,993.4844 1334.0625,993.4844 C1331.1719,993.4844 1329.0625,991.5938 1329.0625,989.0156 L1329.0625,987.8906 C1329.0625,985.1719 1331.0625,983.0938 1333.6875,983.0938 C1334.5625,983.0938 1335.1563,983.2344 1336.0938,983.6719 Z "/><ellipse cx="1359.25" cy="987.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1365.25" y="992.1543">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1400.25" y="992.1543">SeSelection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1186.5" x2="1609.5" y1="1004" y2="1004"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1186.5" x2="1609.5" y1="1012" y2="1012"/><ellipse cx="1196.5" cy="1023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1205.5" y="1026.2104">SeSelection()</text><ellipse cx="1196.5" cy="1035.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="1205.5" y="1039.0151">int prepareSelection(AbstractSeSelectionRequest seSelectionRequest)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1209.5" y="1051.8198"/><ellipse cx="1196.5" cy="1061.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="1205.5" y="1064.6245">SelectionsResult processExplicitSelection(SeReader seReader)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1209.5" y="1077.4292"/><ellipse cx="1196.5" cy="1087.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="1205.5" y="1090.2339">AbstractDefaultSelectionsRequest getSelectionOperation()</text><ellipse cx="1196.5" cy="1099.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="1205.5" y="1103.0386">SelectionsResult processDefaultSelection(</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="1205.5" y="1115.8433">AbstractDefaultSelectionsResponse selectionResponse)</text><!--MD5=[60234a7c460e6555bb7d6c6c7e00297f]
class AbstractSeSelectionRequest--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="150.4375" id="AbstractSeSelectionRequest" style="stroke: #A80036; stroke-width: 1.5;" width="578" x="731" y="713"/><ellipse cx="921.75" cy="729" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M923.3281,730.8125 L919.2813,730.8125 L918.8906,731.7969 L919.2813,731.7969 C919.7344,731.7969 919.875,731.8281 920.0469,731.9531 C920.2656,732.125 920.3906,732.375 920.3906,732.6563 C920.3906,732.9375 920.25,733.2344 919.9844,733.375 C919.8594,733.4688 919.6406,733.5 919.2813,733.5 L917.0156,733.5 C916.2656,733.5 915.8906,733.2188 915.8906,732.6563 C915.8906,732.3594 916.0469,732.0781 916.2969,731.9219 C916.4531,731.8125 916.6094,731.7969 917.0313,731.7969 L919.6719,725.2813 L918.5938,725.2813 C918.1563,725.2813 917.9844,725.25 917.8125,725.1406 C917.5938,724.9688 917.4531,724.7188 917.4531,724.4375 C917.4531,724.1563 917.6094,723.875 917.8594,723.7031 C918.0156,723.6094 918.1406,723.5938 918.5938,723.5938 L922.2656,723.5938 L925.6563,731.7969 C926.125,731.7969 926.2813,731.8281 926.4531,731.9688 C926.6719,732.125 926.8125,732.375 926.8125,732.6563 C926.8125,732.9375 926.6563,733.2344 926.4063,733.375 C926.2656,733.4688 926.0469,733.5 925.6875,733.5 L923.3281,733.5 C922.9063,733.5 922.7031,733.4531 922.5625,733.3281 C922.3438,733.1719 922.2031,732.9219 922.2031,732.6563 C922.2031,732.3594 922.3594,732.0781 922.6094,731.9219 C922.7656,731.8125 922.875,731.7969 923.3281,731.7969 L923.7188,731.7969 Z M922.625,729.1094 L921.2969,725.8438 L919.9531,729.1094 Z "/><ellipse cx="947.25" cy="728.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="177" x="953.25" y="733.1543">AbstractSeSelectionRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="732" x2="1308" y1="745" y2="745"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="732" x2="1308" y1="753" y2="753"/><ellipse cx="742" cy="764" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="457" x="751" y="767.2104">AbstractSeSelectionRequest(SeSelector seSelector, ChannelState channelState)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="755" y="780.0151"/><polygon fill="#FFFF44" points="742,784.6094,746,788.6094,742,792.6094,738,788.6094" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="751" y="792.8198">final void addApduRequest(ApduRequest apduRequest)</text><polygon fill="#4177AF" points="742,798.4141,738,804.4141,746,804.4141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="751" y="805.6245">final SeRequest getSelectionRequest()</text><polygon fill="#FFFF44" points="742,810.2188,746,814.2188,742,818.2188,738,814.2188" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="296" x="751" y="818.4292">AbstractMatchingSe parse(SeResponse seResponse)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="755" y="831.2339"/><ellipse cx="742" cy="840.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="751" y="844.0386">SeSelector getSeSelector()</text><ellipse cx="742" cy="853.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="552" x="751" y="856.8433">AbstractApduResponseParser getCommandParser(SeResponse seResponse, int commandIndex)</text><!--MD5=[aa5d6839ccbb06c03d79569335a94e56]
class AbstractMatchingSe--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="99.2188" id="AbstractMatchingSe" style="stroke: #A80036; stroke-width: 1.5;" width="424" x="726" y="997.5"/><ellipse cx="865.75" cy="1013.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M867.3281,1015.3125 L863.2813,1015.3125 L862.8906,1016.2969 L863.2813,1016.2969 C863.7344,1016.2969 863.875,1016.3281 864.0469,1016.4531 C864.2656,1016.625 864.3906,1016.875 864.3906,1017.1563 C864.3906,1017.4375 864.25,1017.7344 863.9844,1017.875 C863.8594,1017.9688 863.6406,1018 863.2813,1018 L861.0156,1018 C860.2656,1018 859.8906,1017.7188 859.8906,1017.1563 C859.8906,1016.8594 860.0469,1016.5781 860.2969,1016.4219 C860.4531,1016.3125 860.6094,1016.2969 861.0313,1016.2969 L863.6719,1009.7813 L862.5938,1009.7813 C862.1563,1009.7813 861.9844,1009.75 861.8125,1009.6406 C861.5938,1009.4688 861.4531,1009.2188 861.4531,1008.9375 C861.4531,1008.6563 861.6094,1008.375 861.8594,1008.2031 C862.0156,1008.1094 862.1406,1008.0938 862.5938,1008.0938 L866.2656,1008.0938 L869.6563,1016.2969 C870.125,1016.2969 870.2813,1016.3281 870.4531,1016.4688 C870.6719,1016.625 870.8125,1016.875 870.8125,1017.1563 C870.8125,1017.4375 870.6563,1017.7344 870.4063,1017.875 C870.2656,1017.9688 870.0469,1018 869.6875,1018 L867.3281,1018 C866.9063,1018 866.7031,1017.9531 866.5625,1017.8281 C866.3438,1017.6719 866.2031,1017.4219 866.2031,1017.1563 C866.2031,1016.8594 866.3594,1016.5781 866.6094,1016.4219 C866.7656,1016.3125 866.875,1016.2969 867.3281,1016.2969 L867.7188,1016.2969 Z M866.625,1013.6094 L865.2969,1010.3438 L863.9531,1013.6094 Z "/><ellipse cx="891.25" cy="1013" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="125" x="897.25" y="1017.6543">AbstractMatchingSe</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="727" x2="1149" y1="1029.5" y2="1029.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="727" x2="1149" y1="1037.5" y2="1037.5"/><ellipse cx="737" cy="1048.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="746" y="1051.7104">AbstractMatchingSe(SeResponse selectionResponse, String extraInfo)</text><ellipse cx="737" cy="1061.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="746" y="1064.5151">final boolean isSelected()</text><ellipse cx="737" cy="1074.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="746" y="1077.3198">SelectionStatus getSelectionStatus()</text><ellipse cx="737" cy="1086.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="746" y="1090.1245">String getSelectionExtraInfo()</text><!--MD5=[d2d35555969a91c84a420819b098404b]
class SeResource_T--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="86.4141" id="SeResource_T" style="stroke: #A80036; stroke-width: 1.5;" width="312" x="740" y="1183"/><ellipse cx="755" cy="1199" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M757.3438,1194.6719 L757.5156,1194.75 C757.7344,1194.4375 757.9375,1194.3438 758.2344,1194.3438 C758.5313,1194.3438 758.8125,1194.4844 758.9688,1194.75 C759.0625,1194.9063 759.0781,1195.0313 759.0781,1195.4688 L759.0781,1196.8906 C759.0781,1197.3125 759.0469,1197.5 758.9375,1197.6563 C758.7656,1197.875 758.5,1198.0156 758.2344,1198.0156 C758.0156,1198.0156 757.7813,1197.9063 757.6406,1197.7656 C757.5,1197.6406 757.4688,1197.5156 757.4063,1197.1094 C757.3125,1196.7031 757.1406,1196.4844 756.6563,1196.2031 C756.1875,1195.9531 755.5781,1195.7969 755,1195.7969 C753.2656,1195.7969 752.0156,1197.1094 752.0156,1198.8906 L752.0156,1199.9844 C752.0156,1201.6875 753.3125,1202.7813 755.3594,1202.7813 C756.125,1202.7813 756.8125,1202.6563 757.2344,1202.3906 C757.4219,1202.2969 757.4219,1202.2969 757.875,1201.8125 C758.0625,1201.625 758.2656,1201.5469 758.4844,1201.5469 C758.9531,1201.5469 759.3438,1201.9375 759.3438,1202.3906 C759.3438,1202.7813 759.0156,1203.2344 758.4375,1203.6406 C757.6875,1204.1875 756.5313,1204.4844 755.3125,1204.4844 C752.4219,1204.4844 750.3125,1202.5938 750.3125,1200.0156 L750.3125,1198.8906 C750.3125,1196.1719 752.3125,1194.0938 754.9375,1194.0938 C755.8125,1194.0938 756.4063,1194.2344 757.3438,1194.6719 Z "/><ellipse cx="774" cy="1198.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="780" y="1203.1543">SeResource</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="192" x="863" y="1180"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="190" x="864" y="1192.1387">T extends AbstractMatchingSe</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="741" x2="1051" y1="1215" y2="1215"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="741" x2="1051" y1="1223" y2="1223"/><polygon fill="#FFFF44" points="751,1229,755,1233,751,1237,747,1233" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="760" y="1237.2104">SeResource(SeReader seReader, T matchingSe);</text><ellipse cx="751" cy="1246.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="760" y="1250.0151">SeReader getSeReader();</text><ellipse cx="751" cy="1259.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="760" y="1262.8198">T getMatchingSe();</text><!--MD5=[bb5d923135655fe334dd8e21d863bc58]
class InvalidatedPo--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="73.6094" id="InvalidatedPo" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="290.5" y="102"/><ellipse cx="305.5" cy="118" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303.7969,118.875 L303.7969,121.2969 L308.1563,121.2969 L308.1563,120.4219 C308.1563,119.9375 308.1875,119.7969 308.2969,119.6406 C308.4688,119.3906 308.7344,119.2813 309,119.2813 C309.2813,119.2813 309.5625,119.4375 309.7344,119.6875 C309.8125,119.8438 309.8438,119.9844 309.8438,120.4219 L309.8438,123 L301.8438,123 C301.4531,123 301.2188,122.9531 301.0781,122.8281 C300.8594,122.6719 300.7188,122.4219 300.7188,122.1563 C300.7188,121.8594 300.875,121.5938 301.125,121.4219 C301.2813,121.3125 301.4375,121.2969 301.8438,121.2969 L302.0938,121.2969 L302.0938,114.7813 L301.8438,114.7813 C301.4219,114.7813 301.2344,114.75 301.0781,114.6406 C300.8594,114.4688 300.7188,114.2188 300.7188,113.9375 C300.7188,113.6563 300.875,113.3594 301.125,113.2031 C301.2813,113.1094 301.4063,113.0938 301.8438,113.0938 L309.4688,113.0938 L309.4688,115.6406 C309.4688,116.1094 309.4375,116.25 309.3281,116.4219 C309.1563,116.6406 308.8906,116.7813 308.625,116.7813 C308.3438,116.7813 308.0625,116.625 307.8906,116.375 C307.8125,116.2188 307.7813,116.0469 307.7813,115.6406 L307.7813,114.7813 L303.7969,114.7813 L303.7969,117.1875 L305.25,117.1875 L305.25,117.0625 C305.25,116.6094 305.2813,116.4531 305.3906,116.2813 C305.5625,116.0625 305.8281,115.9219 306.0781,115.9219 C306.5313,115.9219 306.8438,116.2344 306.9063,116.7031 C306.9219,116.8594 306.9219,116.9063 306.9219,117.0625 L306.9219,118.9844 C306.9219,119.4375 306.8906,119.5938 306.7656,119.75 C306.6094,119.9688 306.3438,120.1094 306.0938,120.1094 C305.7969,120.1094 305.5156,119.9531 305.3594,119.7031 C305.2813,119.5469 305.25,119.3906 305.25,118.9844 L305.25,118.875 Z "/><ellipse cx="324.5" cy="117.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="330.5" y="122.1543">InvalidatedPo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="291.5" x2="416.5" y1="134" y2="134"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="296.5" y="148.2104">REJECT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="296.5" y="161.0151">ACCEPT</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="291.5" x2="416.5" y1="167.6094" y2="167.6094"/><!--MD5=[a9fcb6532f02eeb9c0b50baba7924700]
class PoAidSelector--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="92.3516" id="PoAidSelector" style="stroke: #A80036; stroke-width: 1.5;" width="460" x="124" y="327"/><ellipse cx="300.75" cy="345.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303.0938,341.6406 L303.2656,341.7188 C303.4844,341.4063 303.6875,341.3125 303.9844,341.3125 C304.2813,341.3125 304.5625,341.4531 304.7188,341.7188 C304.8125,341.875 304.8281,342 304.8281,342.4375 L304.8281,343.8594 C304.8281,344.2813 304.7969,344.4688 304.6875,344.625 C304.5156,344.8438 304.25,344.9844 303.9844,344.9844 C303.7656,344.9844 303.5313,344.875 303.3906,344.7344 C303.25,344.6094 303.2188,344.4844 303.1563,344.0781 C303.0625,343.6719 302.8906,343.4531 302.4063,343.1719 C301.9375,342.9219 301.3281,342.7656 300.75,342.7656 C299.0156,342.7656 297.7656,344.0781 297.7656,345.8594 L297.7656,346.9531 C297.7656,348.6563 299.0625,349.75 301.1094,349.75 C301.875,349.75 302.5625,349.625 302.9844,349.3594 C303.1719,349.2656 303.1719,349.2656 303.625,348.7813 C303.8125,348.5938 304.0156,348.5156 304.2344,348.5156 C304.7031,348.5156 305.0938,348.9063 305.0938,349.3594 C305.0938,349.75 304.7656,350.2031 304.1875,350.6094 C303.4375,351.1563 302.2813,351.4531 301.0625,351.4531 C298.1719,351.4531 296.0625,349.5625 296.0625,346.9844 L296.0625,345.8594 C296.0625,343.1406 298.0625,341.0625 300.6875,341.0625 C301.5625,341.0625 302.1563,341.2031 303.0938,341.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="48" x="346.25" y="343.1387">«static»</text><ellipse cx="326.25" cy="352.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="332.25" y="357.1074">PoAidSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="125" x2="583" y1="364.9375" y2="364.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="125" x2="583" y1="372.9375" y2="372.9375"/><ellipse cx="135" cy="383.9375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="350" x="144" y="387.1479">PoAidSelector(byte[] aidToSelect, InvalidatedPo invalidatedPo,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="144" y="399.9526">FileOccurrence fileOccurrence, FileControlInformation fileControlInformation)</text><ellipse cx="135" cy="409.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="350" x="144" y="412.7573">PoAidSelector(byte[] aidToSelect, InvalidatedPo invalidatedPo)</text><!--MD5=[910d44511a3d946a5594aedf23a2c57e]
class PoSelector--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="60.8047" id="PoSelector" style="stroke: #A80036; stroke-width: 1.5;" width="584" x="62" y="531.5"/><ellipse cx="292.75" cy="547.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M295.0938,543.1719 L295.2656,543.25 C295.4844,542.9375 295.6875,542.8438 295.9844,542.8438 C296.2813,542.8438 296.5625,542.9844 296.7188,543.25 C296.8125,543.4063 296.8281,543.5313 296.8281,543.9688 L296.8281,545.3906 C296.8281,545.8125 296.7969,546 296.6875,546.1563 C296.5156,546.375 296.25,546.5156 295.9844,546.5156 C295.7656,546.5156 295.5313,546.4063 295.3906,546.2656 C295.25,546.1406 295.2188,546.0156 295.1563,545.6094 C295.0625,545.2031 294.8906,544.9844 294.4063,544.7031 C293.9375,544.4531 293.3281,544.2969 292.75,544.2969 C291.0156,544.2969 289.7656,545.6094 289.7656,547.3906 L289.7656,548.4844 C289.7656,550.1875 291.0625,551.2813 293.1094,551.2813 C293.875,551.2813 294.5625,551.1563 294.9844,550.8906 C295.1719,550.7969 295.1719,550.7969 295.625,550.3125 C295.8125,550.125 296.0156,550.0469 296.2344,550.0469 C296.7031,550.0469 297.0938,550.4375 297.0938,550.8906 C297.0938,551.2813 296.7656,551.7344 296.1875,552.1406 C295.4375,552.6875 294.2813,552.9844 293.0625,552.9844 C290.1719,552.9844 288.0625,551.0938 288.0625,548.5156 L288.0625,547.3906 C288.0625,544.6719 290.0625,542.5938 292.6875,542.5938 C293.5625,542.5938 294.1563,542.7344 295.0938,543.1719 Z "/><ellipse cx="318.25" cy="547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="324.25" y="551.6543">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="359.25" y="551.6543">PoSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="645" y1="563.5" y2="563.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63" x2="645" y1="571.5" y2="571.5"/><ellipse cx="73" cy="582.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="558" x="82" y="585.7104">PoSelector(SeProtocol seProtocol, AtrFilter atrFilter, PoAidSelector poAidSelector, String extraInfo)</text><!--MD5=[eb197b32301e657fb343d0b6ac62ab90]
class PoSelectionRequest--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="214.4609" id="PoSelectionRequest" style="stroke: #A80036; stroke-width: 1.5;" width="578" x="65" y="681"/><ellipse cx="263.75" cy="697" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M266.0938,692.6719 L266.2656,692.75 C266.4844,692.4375 266.6875,692.3438 266.9844,692.3438 C267.2813,692.3438 267.5625,692.4844 267.7188,692.75 C267.8125,692.9063 267.8281,693.0313 267.8281,693.4688 L267.8281,694.8906 C267.8281,695.3125 267.7969,695.5 267.6875,695.6563 C267.5156,695.875 267.25,696.0156 266.9844,696.0156 C266.7656,696.0156 266.5313,695.9063 266.3906,695.7656 C266.25,695.6406 266.2188,695.5156 266.1563,695.1094 C266.0625,694.7031 265.8906,694.4844 265.4063,694.2031 C264.9375,693.9531 264.3281,693.7969 263.75,693.7969 C262.0156,693.7969 260.7656,695.1094 260.7656,696.8906 L260.7656,697.9844 C260.7656,699.6875 262.0625,700.7813 264.1094,700.7813 C264.875,700.7813 265.5625,700.6563 265.9844,700.3906 C266.1719,700.2969 266.1719,700.2969 266.625,699.8125 C266.8125,699.625 267.0156,699.5469 267.2344,699.5469 C267.7031,699.5469 268.0938,699.9375 268.0938,700.3906 C268.0938,700.7813 267.7656,701.2344 267.1875,701.6406 C266.4375,702.1875 265.2813,702.4844 264.0625,702.4844 C261.1719,702.4844 259.0625,700.5938 259.0625,698.0156 L259.0625,696.8906 C259.0625,694.1719 261.0625,692.0938 263.6875,692.0938 C264.5625,692.0938 265.1563,692.2344 266.0938,692.6719 Z "/><ellipse cx="289.25" cy="696.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="295.25" y="701.1543">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="330.25" y="701.1543">PoSelectionRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="66" x2="642" y1="713" y2="713"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="66" x2="642" y1="721" y2="721"/><ellipse cx="76" cy="732" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="408" x="85" y="735.2104">PoSelectionRequest(PoSelector seSelector, ChannelState channelState)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="89" y="748.0151"/><ellipse cx="76" cy="757.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="469" x="85" y="760.8198">int prepareReadRecordsCmd(byte sfi, ReadDataStructure readDataStructureEnum,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="350" x="85" y="773.6245">byte firstRecordNumber, int expectedLength, String extraInfo)</text><ellipse cx="76" cy="783.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="469" x="85" y="786.4292">int prepareReadRecordsCmd(byte sfi, ReadDataStructure readDataStructureEnum,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="85" y="799.2339">byte firstRecordNumber, String extraInfo)</text><ellipse cx="76" cy="808.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="85" y="812.0386">int prepareSelectFileCmd(byte[] path, String extraInfo)</text><ellipse cx="76" cy="821.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="514" x="85" y="824.8433">int prepareSelectFileCmd(SelectFileCmdBuild.SelectControl selectControl, String extraInfo)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="89" y="837.6479"/><ellipse cx="76" cy="847.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="413" x="85" y="850.4526">int preparePoCustomReadCmd(String name, ApduRequest apduRequest)</text><ellipse cx="76" cy="860.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="452" x="85" y="863.2573">int preparePoCustomModificationCmd(String name, ApduRequest apduRequest)</text><ellipse cx="76" cy="872.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="552" x="85" y="876.062">AbstractApduResponseParser getCommandParser(SeResponse seResponse, int commandIndex)</text><polygon fill="#FFFF44" points="76,880.6563,80,884.6563,76,888.6563,72,884.6563" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="85" y="888.8667">CalypsoPo parse(SeResponse seResponse)</text><!--MD5=[346f733d3079e77ece8ec0605238a57f]
class CalypsoPo--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="150.4375" id="CalypsoPo" style="stroke: #A80036; stroke-width: 1.5;" width="371" x="267.5" y="972"/><ellipse cx="393.75" cy="988" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M396.0938,983.6719 L396.2656,983.75 C396.4844,983.4375 396.6875,983.3438 396.9844,983.3438 C397.2813,983.3438 397.5625,983.4844 397.7188,983.75 C397.8125,983.9063 397.8281,984.0313 397.8281,984.4688 L397.8281,985.8906 C397.8281,986.3125 397.7969,986.5 397.6875,986.6563 C397.5156,986.875 397.25,987.0156 396.9844,987.0156 C396.7656,987.0156 396.5313,986.9063 396.3906,986.7656 C396.25,986.6406 396.2188,986.5156 396.1563,986.1094 C396.0625,985.7031 395.8906,985.4844 395.4063,985.2031 C394.9375,984.9531 394.3281,984.7969 393.75,984.7969 C392.0156,984.7969 390.7656,986.1094 390.7656,987.8906 L390.7656,988.9844 C390.7656,990.6875 392.0625,991.7813 394.1094,991.7813 C394.875,991.7813 395.5625,991.6563 395.9844,991.3906 C396.1719,991.2969 396.1719,991.2969 396.625,990.8125 C396.8125,990.625 397.0156,990.5469 397.2344,990.5469 C397.7031,990.5469 398.0938,990.9375 398.0938,991.3906 C398.0938,991.7813 397.7656,992.2344 397.1875,992.6406 C396.4375,993.1875 395.2813,993.4844 394.0625,993.4844 C391.1719,993.4844 389.0625,991.5938 389.0625,989.0156 L389.0625,987.8906 C389.0625,985.1719 391.0625,983.0938 393.6875,983.0938 C394.5625,983.0938 395.1563,983.2344 396.0938,983.6719 Z "/><ellipse cx="419.25" cy="987.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="425.25" y="992.1543">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="460.25" y="992.1543">CalypsoPo</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.5" x2="637.5" y1="1004" y2="1004"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="268.5" x2="637.5" y1="1012" y2="1012"/><ellipse cx="278.5" cy="1023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="345" x="287.5" y="1026.2104">CalypsoPo(SeResponse selectionResponse, String extraInfo)</text><ellipse cx="278.5" cy="1035.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="287.5" y="1039.0151">PoRevision getRevision()</text><ellipse cx="278.5" cy="1048.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="287.5" y="1051.8198">byte[] getDfName()</text><ellipse cx="278.5" cy="1061.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="287.5" y="1064.6245">byte[] getApplicationSerialNumber()</text><ellipse cx="278.5" cy="1074.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="287.5" y="1077.4292">byte[] getAtr()</text><ellipse cx="278.5" cy="1087.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="287.5" y="1090.2339">boolean isModificationsCounterInBytes()</text><ellipse cx="278.5" cy="1099.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="287.5" y="1103.0386">int getModificationsCounter()</text><ellipse cx="278.5" cy="1112.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="287.5" y="1115.8433">PoClass getPoClass()</text><!--MD5=[e8e21ba3995782366e9aa9ad2c6b2d5f]
class PoResource--><rect fill="#FEFECE" filter="url(#f1ltvo2pggnnoy)" height="60.8047" id="PoResource" style="stroke: #A80036; stroke-width: 1.5;" width="346" x="295" y="1195.5"/><ellipse cx="403.25" cy="1211.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M405.5938,1207.1719 L405.7656,1207.25 C405.9844,1206.9375 406.1875,1206.8438 406.4844,1206.8438 C406.7813,1206.8438 407.0625,1206.9844 407.2188,1207.25 C407.3125,1207.4063 407.3281,1207.5313 407.3281,1207.9688 L407.3281,1209.3906 C407.3281,1209.8125 407.2969,1210 407.1875,1210.1563 C407.0156,1210.375 406.75,1210.5156 406.4844,1210.5156 C406.2656,1210.5156 406.0313,1210.4063 405.8906,1210.2656 C405.75,1210.1406 405.7188,1210.0156 405.6563,1209.6094 C405.5625,1209.2031 405.3906,1208.9844 404.9063,1208.7031 C404.4375,1208.4531 403.8281,1208.2969 403.25,1208.2969 C401.5156,1208.2969 400.2656,1209.6094 400.2656,1211.3906 L400.2656,1212.4844 C400.2656,1214.1875 401.5625,1215.2813 403.6094,1215.2813 C404.375,1215.2813 405.0625,1215.1563 405.4844,1214.8906 C405.6719,1214.7969 405.6719,1214.7969 406.125,1214.3125 C406.3125,1214.125 406.5156,1214.0469 406.7344,1214.0469 C407.2031,1214.0469 407.5938,1214.4375 407.5938,1214.8906 C407.5938,1215.2813 407.2656,1215.7344 406.6875,1216.1406 C405.9375,1216.6875 404.7813,1216.9844 403.5625,1216.9844 C400.6719,1216.9844 398.5625,1215.0938 398.5625,1212.5156 L398.5625,1211.3906 C398.5625,1208.6719 400.5625,1206.5938 403.1875,1206.5938 C404.0625,1206.5938 404.6563,1206.7344 405.5938,1207.1719 Z "/><ellipse cx="428.75" cy="1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="434.75" y="1215.6543">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="469.75" y="1215.6543">PoResource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="296" x2="640" y1="1227.5" y2="1227.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="296" x2="640" y1="1235.5" y2="1235.5"/><ellipse cx="306" cy="1246.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="320" x="315" y="1249.7104">PoResource(SeReader seReader, CalypsoPo calypsoPo);</text><!--MD5=[7520d0856e2ce14d109088419cdfb33d]
link AidSelector to SeSelector--><path d="M999.577,445.23 C999.131,460.168 999.141,475.911 999.609,490.811 " fill="none" id="AidSelector-&gt;SeSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="999.9176" cy="497.9704" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="999.5732" x2="1000.262" y1="489.9778" y2="505.963"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1007.9102" x2="991.925" y1="497.626" y2="498.3148"/><!--MD5=[7520d0856e2ce14d109088419cdfb33d]
link AidSelector to SeSelector--><path d="M1025.15,445.23 C1025.65,460.797 1025.61,477.238 1025.05,492.688 " fill="none" id="AidSelector-&gt;SeSelector-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1024.43,505.963,1028.7084,500.1582,1024.9957,493.9763,1020.7173,499.7811,1024.43,505.963" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1001.2604" y="464.6729">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1017.5101" y="494.8962">1</text><!--MD5=[b6f444e9989ed3901bbb997f3cd0228e]
link AbstractSeSelectionRequest to AbstractMatchingSe--><path d="M996.282,863.335 C982.518,906.475 965.573,959.583 953.509,997.394 " fill="none" id="AbstractSeSelectionRequest-AbstractMatchingSe" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="977" y="938.0669">selects</text><polygon fill="#000000" points="995,947.1328,998,953.1328,1001,947.1328,995,947.1328" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[88781fa7e55557e435fb378f4fb7ccec]
link AbstractSeSelectionRequest to SeSelection--><path d="M1129.08,863.163 C1175.71,894.868 1230.3,931.984 1278.07,964.46 " fill="none" id="AbstractSeSelectionRequest-&gt;SeSelection" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1289.1,971.959,1286.3891,965.2769,1279.1783,965.2092,1281.8892,971.8913,1289.1,971.959" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1132.9679" y="883.7388">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1269.9864" y="960.8858">1</text><!--MD5=[9ae6c60bb290397dbb57f7e4bfa5525c]
link AbstractMatchingSe to SeResource_T--><path d="M926.412,1096.835 C921.029,1119.522 914.605,1146.595 909.051,1170 " fill="none" id="AbstractMatchingSe-&gt;SeResource_T" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="905.982,1182.934,911.2592,1178.0196,908.7526,1171.2582,903.4754,1176.1726,905.982,1182.934" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="916.2199" y="1116.9586">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="898.9354" y="1171.9195">1</text><!--MD5=[d338ce3d336fa3499d15f5ecafc4488f]
link SeSelector to AbstractSeSelectionRequest--><path d="M1013.97,618.083 C1014.84,642.575 1015.89,672.011 1016.87,699.401 " fill="none" id="SeSelector-&gt;AbstractSeSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1017.34,712.652,1021.1233,706.5131,1016.9117,700.6596,1013.1284,706.7986,1017.34,712.652" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1005.7192" y="637.9057">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1008.7052" y="701.8079">1</text><!--MD5=[4d7b05cdde07cbebd833cb24de8471e0]
link InvalidatedPo to PoAidSelector--><path d="M344.438,176.25 C340.9,212.46 340.307,268.76 342.658,311.7 " fill="none" id="InvalidatedPo-&gt;PoAidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="343.1323" cy="318.8773" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="342.6065" x2="343.658" y1="310.8946" y2="326.86"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="351.115" x2="335.1496" y1="318.3516" y2="319.403"/><!--MD5=[4d7b05cdde07cbebd833cb24de8471e0]
link InvalidatedPo to PoAidSelector--><path d="M364.125,176.25 C367.928,213.01 368.517,270.49 365.892,313.67 " fill="none" id="InvalidatedPo-&gt;PoAidSelector-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="364.951,326.86,369.3693,321.161,365.8081,314.8906,361.3898,320.5896,364.951,326.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="357.1395" y="195.772">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="357.9719" y="316.0325">1</text><!--MD5=[d078b7b9366b2a15f45c194891b56270]
link PoAidSelector to PoSelector--><path d="M342.897,419.267 C340.693,448.635 340.701,486.744 342.92,516.048 " fill="none" id="PoAidSelector-&gt;PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="343.6183" cy="523.3474" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="342.8556" x2="344.381" y1="515.3839" y2="531.311"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="351.5819" x2="335.6548" y1="522.5848" y2="524.1101"/><!--MD5=[d078b7b9366b2a15f45c194891b56270]
link PoAidSelector to PoSelector--><path d="M365.756,419.267 C368.144,449.315 368.08,488.513 365.564,518.069 " fill="none" id="PoAidSelector-&gt;PoSelector-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="364.185,531.311,368.7852,525.7578,365.4285,519.3756,360.8283,524.9288,364.185,531.311" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="341.7186" y="439.5502">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="357.4607" y="520.5353">1</text><!--MD5=[745a9eb240b2395580f3266b2171dd51]
link PoSelector to PoSelectionRequest--><path d="M354,592.745 C354,612.471 354,639.783 354,667.703 " fill="none" id="PoSelector-&gt;PoSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="354,680.986,358,674.986,354,668.986,350,674.986,354,680.986" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="345.2125" y="612.3737">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="345.7188" y="669.9896">1</text><!--MD5=[315c59765b6a4685fded372235c6d6fb]
link PoSelectionRequest to CalypsoPo--><path d="M394.839,895.016 C404.799,920.872 415.242,947.982 424.487,971.98 " fill="none" id="PoSelectionRequest-CalypsoPo" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="414" y="938.0669">selects</text><polygon fill="#000000" points="432,947.1328,435,953.1328,438,947.1328,432,947.1328" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[a71187334cf42e66c7bfc6a1e31411da]
link CalypsoPo to PoResource--><path d="M459.274,1122.038 C461.015,1142.571 462.845,1164.172 464.378,1182.256 " fill="none" id="CalypsoPo-&gt;PoResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="465.485,1195.324,468.9636,1189.0074,464.4709,1183.3669,460.9923,1189.6835,465.485,1195.324" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="451.5085" y="1142.6009">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="456.1413" y="1184.5509">1</text><!--MD5=[8a20d51889bcdd21b681f070ad23f1a8]
reverse link AidSelector to PoAidSelector--><path d="M720.572,373 C674.877,373 628.203,373 584.136,373 " fill="none" id="AidSelector&lt;-PoAidSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="720.783,366,740.783,373,720.783,380,720.783,366" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="637" y="366.0669">extends</text><!--MD5=[7c16b6c2ba894db9496e807d455aae12]
reverse link SeSelector to PoSelector--><path d="M713.123,562 C690.944,562 668.58,562 646.44,562 " fill="none" id="SeSelector&lt;-PoSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="713.429,555,733.428,562,713.428,569,713.429,555" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="664.25" y="555.0669">extends</text><!--MD5=[bc8f446fcbd76130b2551e864083d71d]
reverse link AbstractSeSelectionRequest to PoSelectionRequest--><path d="M710.665,788 C688.188,788 665.566,788 643.212,788 " fill="none" id="AbstractSeSelectionRequest&lt;-PoSelectionRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="710.811,781,730.811,788,710.811,795,710.811,781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="661.5" y="781.0669">extends</text><!--MD5=[fcc76ffbd8d5e4557932e340fc96ea0f]
reverse link AbstractMatchingSe to CalypsoPo--><path d="M705.686,1047 C683.243,1047 660.685,1047 638.78,1047 " fill="none" id="AbstractMatchingSe&lt;-CalypsoPo" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="705.797,1040,725.797,1047,705.797,1054,705.797,1040" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="656.75" y="1040.0669">extends</text><!--MD5=[d7471de0a47366863f510e9ec760fbe4]
reverse link SeResource_T to PoResource--><path d="M719.824,1226 C693.837,1226 667.083,1226 641.159,1226 " fill="none" id="SeResource_T&lt;-PoResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="719.992,1219,739.992,1226,719.992,1233,719.992,1219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="665" y="1219.0669">extends</text><!--MD5=[5d7a75d87906ea4833e83541bb60f1bf]
@startuml
package org.eclipse.keyple #FFFFFF {
package core #FFFFFF {
package seproxy #FFFFFF {

+class AidSelector <<static>> {
	+{static} final int AID_MIN_LENGTH = 5;
	+{static} final int AID_MAX_LENGTH = 16;

	+AidSelector(byte[] aidToSelect, Set<Integer> successfulSelectionStatusCodes,
FileOccurrence fileOccurrence = FIRST, FileControlInformation fileControlInformation = FCI)
	+byte[] getAidToSelect()
	+boolean isSelectNext()
	+Set<Integer> getSuccessfulSelectionStatusCodes()
}

+class SeSelector {
	+SeSelector(SeProtocol seProtocol, AtrFilter atrFilter, AidSelector aidSelector, String extraInfo)
	+SeProtocol getSeProtocol()
	+AtrFilter getAtrFilter()
	+AidSelector getAidSelector()
	+final String getExtraInfo()
}

SeSelector +-up- AidSelector
SeSelector "1" o-up- "0..1" AidSelector
}

package selection #FFFFFF {

+class "<b>final</b> SeSelection" as SeSelection {
	+SeSelection()
	+int prepareSelection(AbstractSeSelectionRequest seSelectionRequest)

	+SelectionsResult processExplicitSelection(SeReader seReader)

	+AbstractDefaultSelectionsRequest getSelectionOperation()
	+SelectionsResult processDefaultSelection(
AbstractDefaultSelectionsResponse selectionResponse)
}

+abstract AbstractSeSelectionRequest {
	+AbstractSeSelectionRequest(SeSelector seSelector, ChannelState channelState)

	#final void addApduRequest(ApduRequest apduRequest)
	~final SeRequest getSelectionRequest()
	{abstract} #AbstractMatchingSe parse(SeResponse seResponse)

	+SeSelector getSeSelector()
	+AbstractApduResponseParser getCommandParser(SeResponse seResponse, int commandIndex)
}

+abstract AbstractMatchingSe {
	+AbstractMatchingSe(SeResponse selectionResponse, String extraInfo)
	+final boolean isSelected()
	+SelectionStatus getSelectionStatus()
	+String getSelectionExtraInfo()
}

+class "SeResource<T extends AbstractMatchingSe>" as SeResource_T {
	#SeResource(SeReader seReader, T matchingSe);
	+SeReader getSeReader();
	+T getMatchingSe();
}

AbstractSeSelectionRequest -down- AbstractMatchingSe : selects >
SeSelection "1" o-up- "*" AbstractSeSelectionRequest
SeResource_T "1" *-up- "1" AbstractMatchingSe
}

AbstractSeSelectionRequest "1" o-up- "1" SeSelector 
}

package calypso.transaction #FFFFFF {
+enum InvalidatedPo {
	REJECT
	ACCEPT
}

+class PoAidSelector <<static>> {
	+PoAidSelector(byte[] aidToSelect, InvalidatedPo invalidatedPo,
FileOccurrence fileOccurrence, FileControlInformation fileControlInformation)
	+PoAidSelector(byte[] aidToSelect, InvalidatedPo invalidatedPo)
}

+class "<b>final</b> PoSelector" as PoSelector {
    +PoSelector(SeProtocol seProtocol, AtrFilter atrFilter, PoAidSelector poAidSelector, String extraInfo)
}

+class "<b>final</b> PoSelectionRequest" as PoSelectionRequest {
	+PoSelectionRequest(PoSelector seSelector, ChannelState channelState)

	+int prepareReadRecordsCmd(byte sfi, ReadDataStructure readDataStructureEnum,
byte firstRecordNumber, int expectedLength, String extraInfo)
	+int prepareReadRecordsCmd(byte sfi, ReadDataStructure readDataStructureEnum,
byte firstRecordNumber, String extraInfo)
	+int prepareSelectFileCmd(byte[] path, String extraInfo)
	+int prepareSelectFileCmd(SelectFileCmdBuild.SelectControl selectControl, String extraInfo)

	+int preparePoCustomReadCmd(String name, ApduRequest apduRequest)
	+int preparePoCustomModificationCmd(String name, ApduRequest apduRequest)
	+AbstractApduResponseParser getCommandParser(SeResponse seResponse, int commandIndex)
	#CalypsoPo parse(SeResponse seResponse)
}

+class "<b>final</b> CalypsoPo" as CalypsoPo {
    +CalypsoPo(SeResponse selectionResponse, String extraInfo)
    +PoRevision getRevision()
    +byte[] getDfName()
    +byte[] getApplicationSerialNumber()
    +byte[] getAtr()
    +boolean isModificationsCounterInBytes()
    +int getModificationsCounter()
    +PoClass getPoClass()
}

+class "<b>final</b> PoResource" as PoResource {
	+PoResource(SeReader seReader, CalypsoPo calypsoPo);
}

PoAidSelector +-up- InvalidatedPo
PoAidSelector "1" *-up- "1" InvalidatedPo
PoSelector +-up- PoAidSelector
PoSelector "1" o-up- "0..1" PoAidSelector
PoSelectionRequest "1" o-up- "1" PoSelector 
PoSelectionRequest -down- CalypsoPo : selects >
PoResource "1" *-up- "1" CalypsoPo
}


PoAidSelector -left-|> AidSelector : extends
PoSelector -left-|> SeSelector : extends
PoSelectionRequest -left-|> AbstractSeSelectionRequest : extends
CalypsoPo -left-|> AbstractMatchingSe : extends
PoResource -left-|> SeResource_T : extends
}
@enduml

PlantUML version 1.2019.13(Tue Dec 10 17:18:29 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>